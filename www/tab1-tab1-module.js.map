{"version":3,"sources":["webpack:///./src/app/tab1/tab1.module.ts","webpack:///./src/app/tab1/tab1.page.html","webpack:///./src/app/tab1/tab1.page.scss","webpack:///./src/app/tab1/tab1.page.ts"],"names":[],"mappings":"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","file":"tab1-tab1-module.js","sourcesContent":["import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Tab1Page } from './tab1.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild([{ path: '', component: Tab1Page }])\r\n  ],\r\n  declarations: [Tab1Page]\r\n})\r\nexport class Tab1PageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button (click)=\\\"showAlert()\\\">\\r\\n        <ion-icon name=\\\"help-circle-outline\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>\\r\\n      Inicio\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n    <ion-refresher-content\\r\\n      pullingIcon=\\\"arrow-dropdown\\\"\\r\\n      pullingText=\\\"Pull to refresh\\\"\\r\\n      refreshingSpinner=\\\"circles\\\"\\r\\n      refreshingText=\\\"Refreshing...\\\">\\r\\n    </ion-refresher-content>\\r\\n  </ion-refresher>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label style=\\\"font-size: 20px;\\\">Ultimas noticias</ion-label>\\r\\n  </ion-item>\\r\\n  <ion-card *ngFor=\\\"let post of posts\\\" (click)=\\\"goToPost(post.id)\\\">\\r\\n    <ion-item *ngIf=\\\"post.section == 0\\\" color=\\\"secondary\\\">\\r\\n      <ion-item color=\\\"secondary\\\" style=\\\"color: white;\\\" slot=\\\"start\\\">{{ post.title }}</ion-item>    \\r\\n    </ion-item>    \\r\\n    <ion-item *ngIf=\\\"post.section == 1\\\" color=\\\"primary\\\">\\r\\n        <ion-item color=\\\"primary\\\" style=\\\"color: white;\\\" slot=\\\"start\\\">{{ post.title }}</ion-item> \\r\\n      </ion-item>\\r\\n      <ion-item *ngIf=\\\"post.section == 2\\\" color=\\\"warning\\\">\\r\\n        <ion-item color=\\\"warning\\\" style=\\\"color: white;\\\" slot=\\\"start\\\">{{ post.title }}</ion-item> \\r\\n      </ion-item>\\r\\n      <ion-item *ngIf=\\\"post.section == 3\\\" color=\\\"success\\\">\\r\\n        <ion-item color=\\\"success\\\" style=\\\"color: white;\\\" slot=\\\"start\\\">{{ post.title }}</ion-item>         \\r\\n      </ion-item>            \\r\\n      <ion-item *ngIf=\\\"post.section == 4\\\" color=\\\"unidad\\\">\\r\\n        <ion-item color=\\\"unidad\\\" style=\\\"color: white;\\\" slot=\\\"start\\\">{{ post.title }}</ion-item> \\r\\n      </ion-item>\\r\\n      <ion-item *ngIf=\\\"post.section == 5\\\" color=\\\"danger\\\">\\r\\n        <ion-item color=\\\"danger\\\" style=\\\"color: white;\\\" slot=\\\"start\\\">{{ post.title }}</ion-item> \\r\\n      </ion-item>     \\r\\n      <ion-item lines=\\\"none\\\">\\r\\n        <ion-chip *ngIf=\\\"post.event == 0\\\"><ion-icon name=\\\"analytics\\\" color=\\\"light\\\"></ion-icon><ion-label color=\\\"light\\\">Excursion</ion-label></ion-chip>   \\r\\n        <ion-chip *ngIf=\\\"post.event == 1\\\"><ion-icon name=\\\"leaf\\\" color=\\\"light\\\"></ion-icon><ion-label color=\\\"light\\\">Acampada</ion-label></ion-chip>\\r\\n        <ion-chip *ngIf=\\\"post.event == 2\\\"><ion-icon name=\\\"bonfire\\\" color=\\\"light\\\"></ion-icon><ion-label color=\\\"light\\\">Campamento</ion-label></ion-chip>\\r\\n      </ion-item> \\r\\n    <ion-card-content>\\r\\n      <img class=\\\"thumbnail\\\" src=\\\"../../assets/forest1.jpg\\\">\\r\\n      <ion-item *ngIf=\\\"post.content.length > 100\\\">{{ post.content.substring(0, 100) }}...</ion-item>\\r\\n      <ion-item *ngIf=\\\"post.content.length < 100\\\">{{ post.content }}</ion-item>\\r\\n      <ion-item lines=\\\"none\\\">\\r\\n        <ion-item slot=\\\"start\\\" lines=\\\"none\\\">{{ post.author }}</ion-item>\\r\\n        <ion-item slot=\\\"end\\\" lines=\\\"none\\\">{{ post.date }}</ion-item>\\r\\n      </ion-item>\\r\\n    </ion-card-content>\\r\\n  </ion-card> \\r\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button *ngIf=\\\"user.role >= 0 && user.role <=5\\\" (click)=\\\"addPost()\\\">\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n</ion-content>\\r\\n\"","module.exports = \".welcome-card ion-img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n.thumbnail {\\n  height: 250px !important;\\n  width: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  margin-bottom: 10px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMS9DOlxcVXNlcnNcXEExNzBBNkJcXERlc2t0b3BcXGdlbmlsNDkyL3NyY1xcYXBwXFx0YWIxXFx0YWIxLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQixnQkFBZ0IsRUFBQTs7QUFHbEI7RUFDRSx3QkFBd0I7RUFDeEIsV0FBVztFQUNYLG9CQUFpQjtLQUFqQixpQkFBaUI7RUFDakIsbUJBQW1CLEVBQUEiLCJmaWxlIjoic3JjL2FwcC90YWIxL3RhYjEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndlbGNvbWUtY2FyZCBpb24taW1nIHtcclxuICBtYXgtaGVpZ2h0OiAzNXZoO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi50aHVtYm5haWwge1xyXG4gIGhlaWdodDogMjUwcHggIWltcG9ydGFudDtcclxuICB3aWR0aDogMTAwJTtcclxuICBvYmplY3QtZml0OiBjb3ZlcjtcclxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { HttpService } from '../services/http.service';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Router,ActivatedRoute } from '@angular/router';\r\nimport { Storage } from '@ionic/storage';\r\nimport { LoadingController } from '@ionic/angular';\r\n\r\nconst USER_KEY = 'user-key';\r\nconst FIRST_REF = 'first-ref';\r\n\r\n@Component({\r\n  selector: 'app-tab1',\r\n  templateUrl: 'tab1.page.html',\r\n  styleUrls: ['tab1.page.scss']\r\n})\r\nexport class Tab1Page implements OnInit{\r\n  posts: any[] = [];\r\n  user: any;\r\n\r\n  constructor(private httpService: HttpService, private router: Router, private storage: Storage,\r\n    private alertController: AlertController, public loadingController: LoadingController) {}\r\n  \r\n  async ngOnInit() {\r\n    this.presentLoading();\r\n    await this.storage.get(FIRST_REF).then(val => {\r\n      if(!val) {\r\n        this.doRefresh(event);\r\n        this.storage.set(FIRST_REF, true);\r\n      }\r\n    });\r\n\r\n    await this.storage.get(USER_KEY).then(val => {\r\n      this.user = val;\r\n    });\r\n\r\n    await this.httpService.getLastPosts().then(res => {      \r\n      res.post.forEach(element => {\r\n        if(element.scope == 0) {\r\n          this.posts.push(element);\r\n        }\r\n      });   \r\n    })\r\n  }    \r\n\r\n  goToPost(id: number) {\r\n    this.router.navigate([\"/post\",id]);\r\n  }\r\n\r\n  addPost() {\r\n    this.router.navigate([\"/add-post\"]);\r\n  }\r\n\r\n  async showAlert() {\r\n    const alert = await this.alertController.create({\r\n      header: 'Colores',\r\n      message: 'Azul: Colonia\\nAmarillo: Lobatos\\nVerde: Tropa\\nNaranja: Unidad\\nRojo: Clan\\nCeleste: General',\r\n      buttons: ['OK']\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  doRefresh(event) {\r\n    setTimeout(() => {\r\n      this.posts = [];\r\n      this.ngOnInit();\r\n      console.log('Async operation has ended');\r\n      event.target.complete();\r\n    }, 2000);    \r\n  }\r\n\r\n  async presentLoading() {\r\n    const loading = await this.loadingController.create({\r\n      duration: 1000\r\n    });\r\n    await loading.present();\r\n  }\r\n}\r\n"],"sourceRoot":""}