{"version":3,"sources":["webpack:///./src/app/add-post/add-post.module.ts","webpack:///./src/app/add-post/add-post.page.html","webpack:///./src/app/add-post/add-post.page.scss","webpack:///./src/app/add-post/add-post.page.ts"],"names":[],"mappings":"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","file":"add-post-add-post-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AddPostPage } from './add-post.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddPostPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [AddPostPage]\r\n})\r\nexport class AddPostPageModule {}\r\n","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Publicar post</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"post-img\\\">\\r\\n    <ion-icon name=\\\"camera\\\" class=\\\"post-icon\\\"></ion-icon>    \\r\\n  </div>\\r\\n  <ion-label class=\\\"post-img-lbl\\\">Escoge una o varias imagenes</ion-label>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label>Titulo</ion-label>\\r\\n    <ion-input placeholder=\\\"Titulo\\\" [(ngModel)]=\\\"title\\\"></ion-input>\\r\\n  </ion-item>  \\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label lines=\\\"none\\\">Contenido</ion-label>\\r\\n  </ion-item>\\r\\n  <ion-item>    \\r\\n    <ion-textarea placeholder=\\\"Contenido\\\" rows=\\\"15\\\" [(ngModel)]=\\\"content\\\"></ion-textarea>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-list>\\r\\n      <ion-radio-group>\\r\\n        <ion-list-header>\\r\\n          <ion-label>Tipo de Post</ion-label>\\r\\n        </ion-list-header>\\r\\n    \\r\\n        <ion-item>\\r\\n          <ion-label>Post normal</ion-label>\\r\\n          <ion-radio slot=\\\"start\\\" value=\\\"4\\\" checked (ionSelect)=\\\"tipoPost(4)\\\"></ion-radio>\\r\\n        </ion-item>\\r\\n    \\r\\n        <ion-item>\\r\\n          <ion-label>Excursion</ion-label>\\r\\n          <ion-radio slot=\\\"start\\\" value=\\\"0\\\" (ionSelect)=\\\"tipoPost(0)\\\"></ion-radio>\\r\\n        </ion-item>\\r\\n    \\r\\n        <ion-item>\\r\\n          <ion-label>Acampada</ion-label>\\r\\n          <ion-radio slot=\\\"start\\\" value=\\\"1\\\" (ionSelect)=\\\"tipoPost(1)\\\"></ion-radio>\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-label>Campamento</ion-label>\\r\\n          <ion-radio slot=\\\"start\\\" value=\\\"2\\\" (ionSelect)=\\\"tipoPost(2)\\\"></ion-radio>\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-label>Otro</ion-label>\\r\\n          <ion-radio slot=\\\"start\\\" value=\\\"3\\\" (ionSelect)=\\\"tipoPost(3)\\\"></ion-radio>\\r\\n        </ion-item>\\r\\n      </ion-radio-group>\\r\\n    </ion-list>\\r\\n\\r\\n    <ion-item *ngIf=\\\"tipo < 4\\\">\\r\\n      <ion-label>Fecha Inicio</ion-label>\\r\\n      <ion-datetime display-format=\\\"MMM DD, YYYY HH:mm\\\" [(ngModel)]=\\\"dateBeg\\\"></ion-datetime>\\r\\n    </ion-item>      \\r\\n    <ion-item *ngIf=\\\"tipo < 4\\\">\\r\\n      <ion-label>Fecha Fin</ion-label>\\r\\n      <ion-datetime display-format=\\\"MMM DD, YYYY HH:mm\\\" [(ngModel)]=\\\"dateEnd\\\"></ion-datetime>\\r\\n    </ion-item>   \\r\\n\\r\\n    <ion-list>\\r\\n        <ion-radio-group>\\r\\n          <ion-list-header>\\r\\n            <ion-label>Publicar en</ion-label>\\r\\n          </ion-list-header>\\r\\n      \\r\\n          <ion-item>\\r\\n            <ion-label>Grupo</ion-label>\\r\\n            <ion-radio slot=\\\"start\\\" value=\\\"0\\\" checked (ionSelect)=\\\"scope(0)\\\"></ion-radio>\\r\\n          </ion-item>\\r\\n\\r\\n          <ion-item>\\r\\n            <ion-label>Seccion</ion-label>\\r\\n            <ion-radio slot=\\\"start\\\" value=\\\"1\\\" checked (ionSelect)=\\\"scope(1)\\\"></ion-radio>\\r\\n          </ion-item>\\r\\n        </ion-radio-group>\\r\\n      </ion-list>\\r\\n\\r\\n      <ion-item lines=\\\"none\\\"><ion-button fill style=\\\"width:100%; border: solid 1px #ECEBEB;\\\" (click)=\\\"post()\\\">Publicar</ion-button></ion-item>  \\r\\n</ion-content>\\r\\n\"","module.exports = \".post-img {\\n  height: 200px !important;\\n  width: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  background-color: #616161;\\n  text-align: center; }\\n\\n.post-icon {\\n  font-size: 75px;\\n  display: inline-block;\\n  position: relative;\\n  top: 25%;\\n  color: #a4a4a4; }\\n\\n.post-img-lbl {\\n  display: inline-block;\\n  position: absolute;\\n  top: 16%;\\n  left: 25%;\\n  color: #a4a4a4; }\\n\\n.title {\\n  font-size: 20px; }\\n\\n.comments {\\n  text-align: center;\\n  font-size: 20px;\\n  padding: 2%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRkLXBvc3QvQzpcXFVzZXJzXFxBMTcwQTZCXFxEZXNrdG9wXFxnZW5pbDQ5Mi9zcmNcXGFwcFxcYWRkLXBvc3RcXGFkZC1wb3N0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHdCQUF3QjtFQUN4QixXQUFXO0VBQ1gsb0JBQWlCO0tBQWpCLGlCQUFpQjtFQUNqQix5QkFBeUI7RUFDekIsa0JBQWtCLEVBQUE7O0FBR3RCO0VBQ0ksZUFBZTtFQUNmLHFCQUFxQjtFQUNyQixrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLGNBQWMsRUFBQTs7QUFHbEI7RUFDSSxxQkFBcUI7RUFDckIsa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixTQUFRO0VBQ1IsY0FBYyxFQUFBOztBQUdsQjtFQUNJLGVBQWUsRUFBQTs7QUFHbkI7RUFDSSxrQkFBaUI7RUFDakIsZUFBZTtFQUNmLFdBQVcsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2FkZC1wb3N0L2FkZC1wb3N0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wb3N0LWltZyB7XHJcbiAgICBoZWlnaHQ6IDIwMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzYxNjE2MTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnBvc3QtaWNvbiB7XHJcbiAgICBmb250LXNpemU6IDc1cHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB0b3A6IDI1JTsgICAgXHJcbiAgICBjb2xvcjogI2E0YTRhNDtcclxufVxyXG5cclxuLnBvc3QtaW1nLWxibCB7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDE2JTtcclxuICAgIGxlZnQ6MjUlO1xyXG4gICAgY29sb3I6ICNhNGE0YTQ7XHJcbn1cclxuXHJcbi50aXRsZSB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7ICAgIFxyXG59XHJcblxyXG4uY29tbWVudHMge1xyXG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBwYWRkaW5nOiAyJTtcclxufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { HttpService } from '../services/http.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { Router,ActivatedRoute } from '@angular/router';\r\n\r\nconst USER_KEY = 'user-key';\r\n\r\n@Component({\r\n  selector: 'app-add-post',\r\n  templateUrl: './add-post.page.html',\r\n  styleUrls: ['./add-post.page.scss'],\r\n})\r\nexport class AddPostPage implements OnInit {\r\n\r\n  tipo: any = 4;\r\n  ambito: any = 0;\r\n  user: any;\r\n  role: any;\r\n  title: string;\r\n  content: string;\r\n  dateBeg: any;\r\n  dateEnd: any;\r\n  postData: any[] = [];\r\n  eventData: any[] = [];\r\n  postable: boolean = true;\r\n\r\n  constructor(private httpService: HttpService, private storage: Storage, public toastController: ToastController,\r\n    private router: Router) { }\r\n\r\n  async ngOnInit() {\r\n    await this.storage.get(USER_KEY).then(val => {\r\n      this.user = val;\r\n    });\r\n  }\r\n\r\n  tipoPost(t: any) {\r\n    this.tipo = t;\r\n  }\r\n\r\n  scope(s: any) {  \r\n    this.ambito = s;   \r\n  }\r\n\r\n  post() {\r\n    this.postable = true;\r\n    this.postData.push(this.title);\r\n    this.postData.push(this.content);\r\n    this.postData.push(this.tipo);\r\n    this.postData.push(this.ambito);\r\n    this.postData.push(this.user.login);\r\n    this.postData.push(this.user.role);\r\n    this.eventData.push(this.title);    \r\n    this.eventData.push(this.dateBeg);\r\n    this.eventData.push(this.dateEnd);\r\n    this.eventData.push(this.tipo);    \r\n\r\n    this.postData.forEach(element => {\r\n      if(element === undefined) {\r\n        this.presentToast();\r\n        this.postData = [];\r\n        this.postable = false;\r\n      }\r\n    });\r\n\r\n    this.eventData.forEach(element => {\r\n      if(element === undefined) {\r\n        this.presentToast();\r\n        this.eventData = [];\r\n        this.postable = false;\r\n      }\r\n    });\r\n\r\n    if(this.tipo == 4) {      \r\n      if(this.postable) {\r\n        this.httpService.post(this.postData);\r\n      }      \r\n    } else {      \r\n      if(this.postable) {\r\n        this.httpService.post(this.postData).then(val => {\r\n          this.httpService.postEvent(this.eventData);\r\n        });\r\n      }  \r\n    }\r\n\r\n    this.router.navigate(['']);\r\n  }\r\n\r\n  async presentToast() {\r\n    const toast = await this.toastController.create({\r\n      message: 'Rellena los campos obligatorios.',\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n}\r\n"],"sourceRoot":""}